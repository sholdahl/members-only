<%- include('header') -%>
<div class="hero-div">
  <h1 class="text-center hero-title">Post a Message</h1>
</div>

<div class="container-fluid ch-form-wrapper">
    <% if (messages.error) { %>
       <p class="error message"> <%= messages.error %> </p>
      <% } %>
  <form method="POST" class="ch-form">
    <div class="mb-3">
      <label for="title" class="form-label">Message Title</label>
      <input type="text" class="form-control" id="title" name="title"
      required=true value=<%-(undefined===locals.message ? '' : message.title)%>>
    </div>
    <div class="mb-3">
      <label for="message" class="form-label">Message</label>
      <textarea class="form-control" name="message" id="message" cols="30" rows="10"><%-(undefined===locals.message ? '' : message.message)%></textarea>
    </div>
    <button class="btn ch-btn">Submit</button>
  </form>
</div>
<%if(undefined===locals.errors) {%> <%} else {%>
  <h5 class="mt-3">Errors</h5>
  <ul>
    <% errors.forEach(error => { %>
    <li><%-error.msg%></li>
    <%});%>
  </ul>
  <%}%>

<script
  src="/javascripts/passwordValidator.js"
  crossorigin="anonymous"
></script>

<%- include('footer') -%>
